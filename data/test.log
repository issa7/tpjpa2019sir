/*C12*/SET SCHEMA PUBLIC
drop table Participants if exists
create table Participants (mail varchar(255) not null, alergie varchar(255), aliment varchar(255), nom varchar(255), prenom varchar(255), primary key (mail))
DISCONNECT
/*C17*/SET SCHEMA PUBLIC
drop table Dates if exists
drop table Participants if exists
drop table Sondage if exists
create table Dates (id bigint generated by default as identity (start with 1), date1 timestamp, sondages_id bigint, primary key (id))
create table Participants (mail varchar(255) not null, alergie varchar(255), aliment varchar(255), nom varchar(255), prenom varchar(255), sondage_id bigint, primary key (mail))
create table Sondage (id bigint generated by default as identity (start with 1), resulttSondage timestamp, primary key (id))
alter table Dates add constraint FK_q7ujxpsyhn1b2t5c82imadyt5 foreign key (sondages_id) references Sondage
alter table Participants add constraint FK_8124s7u60pp94i8wiu8onimwc foreign key (sondage_id) references Sondage
DISCONNECT
/*C19*/SET SCHEMA PUBLIC
alter table Dates drop constraint FK_q7ujxpsyhn1b2t5c82imadyt5
alter table Participants drop constraint FK_8124s7u60pp94i8wiu8onimwc
drop table Dates if exists
drop table Participants if exists
drop table Reunion if exists
drop table Sondage if exists
create table Dates (id bigint generated by default as identity (start with 1), date1 timestamp, sondages_id bigint, primary key (id))
create table Participants (mail varchar(255) not null, alergie varchar(255), aliment varchar(255), nom varchar(255), prenom varchar(255), reunion_id bigint, sondage_id bigint, primary key (mail))
create table Reunion (id bigint generated by default as identity (start with 1), intitule varchar(255), resume varchar(255), primary key (id))
create table Sondage (id bigint generated by default as identity (start with 1), resulttSondage timestamp, primary key (id))
alter table Dates add constraint FK_q7ujxpsyhn1b2t5c82imadyt5 foreign key (sondages_id) references Sondage
alter table Participants add constraint FK_9tiwrfwsx56v24hi1o2smkw8j foreign key (reunion_id) references Reunion
alter table Participants add constraint FK_8124s7u60pp94i8wiu8onimwc foreign key (sondage_id) references Sondage
DISCONNECT
