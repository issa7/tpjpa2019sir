/*C19*/SET SCHEMA PUBLIC
alter table Alimentation drop constraint FK_k9hkyoipxixhhng7snqkwib8v
alter table Allergies drop constraint FK_q44bk3gfyh6986uo86rpg10v8
alter table ChoixParticipants drop constraint FK_ln8q40kvi3l51msxe0l6k8luk
alter table ChoixParticipants drop constraint FK_rl7v60h7ofmu46pn4ud0obdmn
alter table ChoixParticipants drop constraint FK_dnfle4ki16y53wwk2jd6ymyfp
alter table DateSondage drop constraint FK_8u8odjj6ja0yhvngwri8cjnme
alter table LieuSondage drop constraint FK_4dqwonhq46eo4ecjoxg1qeohw
alter table Participants drop constraint FK_8124s7u60pp94i8wiu8onimwc
alter table Reunion drop constraint FK_k5qbea4qc2muxvfawut242pcs
alter table Reunion drop constraint FK_4yjgblis0nlrqu2701cpvxdm5
alter table Sondage drop constraint FK_ewe3t57elcneup7ehjlds1v3e
drop table Alimentation if exists
drop table Allergies if exists
drop table ChoixParticipants if exists
drop table Createur if exists
drop table DateSondage if exists
drop table LieuSondage if exists
drop table Participants if exists
drop table Reunion if exists
drop table Sondage if exists
create table Alimentation (id bigint generated by default as identity (start with 1), libellePreferenceAlimentation varchar(255), participant_mail varchar(255), primary key (id))
create table Allergies (id bigint generated by default as identity (start with 1), libelleAllergie varchar(255), participant_mail varchar(255), primary key (id))
create table ChoixParticipants (idChoix bigint generated by default as identity (start with 1), choix date, lieu varchar(255), note_id bigint, participant_mail varchar(255), propo_id bigint, primary key (idChoix))
create table Createur (CREATEUR_ID varchar(255) not null, motPass varchar(255), nom varchar(255), prenom varchar(255), primary key (CREATEUR_ID))
create table DateSondage (id bigint generated by default as identity (start with 1), date date, propostiondate_id bigint, primary key (id))
create table LieuSondage (id bigint generated by default as identity (start with 1), lieuSondage varchar(255), propoLieu_id bigint, primary key (id))
create table Participants (mail varchar(255) not null, motpass varchar(255), nom varchar(255), prenom varchar(255), sondage_id bigint, primary key (mail))
create table Reunion (id bigint generated by default as identity (start with 1), intitule varchar(255), SondageDateID bigint, SondageLieuID bigint, primary key (id))
create table Sondage (sondage_type varchar(31) not null, id bigint generated by default as identity (start with 1), nomSondage varchar(255), utilisateur_CREATEUR_ID varchar(255), primary key (id))
alter table Alimentation add constraint FK_k9hkyoipxixhhng7snqkwib8v foreign key (participant_mail) references Participants
alter table Allergies add constraint FK_q44bk3gfyh6986uo86rpg10v8 foreign key (participant_mail) references Participants
alter table ChoixParticipants add constraint FK_ln8q40kvi3l51msxe0l6k8luk foreign key (note_id) references Sondage
alter table ChoixParticipants add constraint FK_rl7v60h7ofmu46pn4ud0obdmn foreign key (participant_mail) references Participants
alter table ChoixParticipants add constraint FK_dnfle4ki16y53wwk2jd6ymyfp foreign key (propo_id) references Sondage
alter table DateSondage add constraint FK_8u8odjj6ja0yhvngwri8cjnme foreign key (propostiondate_id) references Sondage
alter table LieuSondage add constraint FK_4dqwonhq46eo4ecjoxg1qeohw foreign key (propoLieu_id) references Sondage
alter table Participants add constraint FK_8124s7u60pp94i8wiu8onimwc foreign key (sondage_id) references Sondage
alter table Reunion add constraint FK_k5qbea4qc2muxvfawut242pcs foreign key (SondageDateID) references Sondage
alter table Reunion add constraint FK_4yjgblis0nlrqu2701cpvxdm5 foreign key (SondageLieuID) references Sondage
alter table Sondage add constraint FK_ewe3t57elcneup7ehjlds1v3e foreign key (utilisateur_CREATEUR_ID) references Createur
INSERT INTO CREATEUR VALUES('a@gmail.com',NULL,'keita','issa')
COMMIT
/*C21*/SET SCHEMA PUBLIC
DISCONNECT
/*C23*/SET SCHEMA PUBLIC
DISCONNECT
/*C19*/DISCONNECT
/*C20*/SET SCHEMA PUBLIC
DISCONNECT
/*C22*/SET SCHEMA PUBLIC
DISCONNECT
/*C26*/SET SCHEMA PUBLIC
DISCONNECT
/*C25*/SET SCHEMA PUBLIC
DISCONNECT
/*C24*/SET SCHEMA PUBLIC
DISCONNECT
/*C18*/SET SCHEMA PUBLIC
DISCONNECT
