/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C3*/SET SCHEMA PUBLIC
drop table Alimentation if exists
drop table Allergies if exists
drop table ChoixParticipants if exists
drop table Createur if exists
drop table Participants if exists
drop table Participants_Sondage if exists
drop table PropositionDate if exists
drop table Reunion if exists
drop table Sondage if exists
create table Alimentation (id bigint generated by default as identity (start with 1), libellePreferenceAlimentation varchar(255), participant_id varchar(255), primary key (id))
create table Allergies (id bigint generated by default as identity (start with 1), libelleAllergie varchar(255), participantAllergie_id varchar(255), primary key (id))
create table ChoixParticipants (idChoix bigint generated by default as identity (start with 1), choix date, participant_id varchar(255), propo_id bigint, primary key (idChoix))
create table Createur (CREATEUR_ID varchar(255) not null, motPass varchar(255), nom varchar(255), prenom varchar(255), primary key (CREATEUR_ID))
create table Participants (mail varchar(255) not null, motpass varchar(255), nom varchar(255), prenom varchar(255), primary key (mail))
create table Participants_Sondage (participants_mail varchar(255) not null, sondage_id bigint not null)
create table PropositionDate (id bigint generated by default as identity (start with 1), date1 timestamp, sondages_id bigint, primary key (id))
create table Reunion (id bigint generated by default as identity (start with 1), intitule varchar(255), SondageID bigint, primary key (id))
create table Sondage (id bigint generated by default as identity (start with 1), nomSondage varchar(255), utilisateur_CREATEUR_ID varchar(255), primary key (id))
alter table Alimentation add constraint FK_c78aeebh860bgdf8i9djggo1w foreign key (participant_id) references Participants
alter table Allergies add constraint FK_i5sc077oqitnwfxeffhrpu24l foreign key (participantAllergie_id) references Participants
alter table ChoixParticipants add constraint FK_t8t8nidsjieepd3o29btr7ieb foreign key (participant_id) references Participants
alter table ChoixParticipants add constraint FK_dnfle4ki16y53wwk2jd6ymyfp foreign key (propo_id) references PropositionDate
alter table Participants_Sondage add constraint FK_gbls7f86tdbm5vglvnu05v7ff foreign key (sondage_id) references Sondage
alter table Participants_Sondage add constraint FK_37tw5rm3heg8x53mmtr3hn3mx foreign key (participants_mail) references Participants
alter table PropositionDate add constraint FK_r9bkgn0fkcskgjyca4ksbviui foreign key (sondages_id) references Sondage
alter table Reunion add constraint FK_gc3vhew8923i2628ge7ivraov foreign key (SondageID) references Sondage
alter table Sondage add constraint FK_ewe3t57elcneup7ehjlds1v3e foreign key (utilisateur_CREATEUR_ID) references Createur
DISCONNECT
/*C2*/SET SCHEMA PUBLIC
DISCONNECT
